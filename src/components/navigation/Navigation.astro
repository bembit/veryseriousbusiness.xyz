---
import Profile from './Profile.astro';
const mainCategories = ["debug", "opinion", "self destruct"]
---

<nav>

    <Profile />

    <ul class="nav-list">
        <li class="nav-item"><a href="/">Home</a></li>
        <li class="nav-item active"><a href="/about">About</a></li>
        {mainCategories.map((category) => (
            <li class="nav-item" ><a href={`/tags/${category}`}>{category}</a></li> 
		))}
        <li class="nav-item"><a href="/tags">All Tags</a></li>
    </ul>

</nav>


<style>

    nav {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: fixed;
        top: 0;
        left: 0;
        width: var(--nav-width);
        border-radius: var(--border-rounded);
        border-top: var(--borders);
    }

    nav h3 {
        margin-top: 1rem;
        margin-bottom: 1rem;
    }

    .nav-list {
        display: flex;
        flex-direction: column;
        /* flex-direction: row; */
        /* flex-wrap: wrap;
        gap: 10px; */
        /* justify-content: center; */
        /* align-items: flex-end; */
        width: 70%;
    }

    .nav-item {
        font-weight: 700;
        /* width: 100%; */;
        text-align: right;
        background-color: #0000000a;
        margin-top: .35rem;
    }

    .nav-item a {
        text-transform: uppercase;
        font-size: 1.2rem;
        display: inline-block;
        width: 100%;
        padding: 1rem .5rem 1rem 1rem;
        font-weight: 700;
        color: var(--text-secondary);
        transition: all .3s ease-in-out;
        /* ok this one is accidental but I like it */
        margin-right: 1rem;
    }

    .nav-item a:hover {
        background-color: var(--tertiary);
        color: var(--text-primary);
        padding-right: 15px;
        width: 100%;
    }

    .nav-item.active a {
        background-color: var(--tertiary);
        color: var(--text-primary);
        padding-right: 15px;
    }

    @media (max-width: 1400px) {
        .nav-list {
            width: 90%;

        }
    }

    @media (max-width: 950px) {
        body {
            /* flex-direction: column; */
        }
        nav {
            position: initial;
            flex-direction: row;
            width: 100%;
        }

        nav div {
            flex-direction: row;
        }
        nav ul {
            display: none;
        }
    }

    @media (max-width: 500px) {
        nav {padding: 5px 5px; }
    }

</style>

<script>

// tomorrow
// function trackRoute(href) {
//     let navItem = document.querySelectorAll('.nav-item a');
//     console.log(navItem);
//     // check if href path is in the innerHTML of the nav item and add active class
//     navItem.forEach(item => {
//         console.log(item.innerHTML);
//         if(item.innerHTML.toLowerCase().includes(href.toLowerCase())) {
//             item.classList.add('active');
//             console.log("active");
//         } else {
//             item.classList.remove('active');
//         }
//     });
// }

</script>