---
const mainCategories = ["debug", "opinion", "hardway"]
---

<span id="mobile-nav-toggle" class="material-icons">menu</span>
        
<nav id="mobile-nav">
    <ul class="nav-list">
        <li class="nav-item"><a href="/">Home</a></li>
        <li class="nav-item"><a href="/about">About</a></li>
        <!-- spacing here maybe -->
        {mainCategories.map((category) => (
            <li class="nav-item" ><a href={`/tags/${category}`}>{category}</a></li> 
        ))}
        <li class="nav-item"><a href="/tags">All Tags</a></li>
    </ul>
</nav>

<style>
    #mobile-nav {
        display: none;
        position: absolute;
        padding: 2rem 2rem;
        z-index: 100;
        font-weight: 900;
    }
    .nav-item {
        display: flex;
    }
    .nav-item a {
        display: flex;
        align-items: center; justify-content: center;
        width: 100%;
        height: 100%;
        padding: 1rem 1rem;
    }
    .nav-item:not(:last-of-type) a {
        margin-bottom: 2rem;
    }
    #mobile-nav-toggle {
        display: none;
        margin-left: 3rem;
    }
    @media screen and (max-width: 1100px) {
        #mobile-nav-toggle {
            display: block;
        }
        #mobile-nav {
            top: 100%;
            right: 0;
            flex-direction: column;
            min-width: fit-content;
            width: 200px;
            background-color: var(--tertiary);
        }
        nav a:not(:last-of-type) {
            margin: 0 0;
        }
    }
</style>

<script>

    document.addEventListener('astro:page-load', () => {
        document.getElementById("mobile-nav-toggle").addEventListener("click", handleToggle);
    });
    
    function handleToggle() {
        const nav = document.getElementById("mobile-nav");

        if (nav.style.display === "flex") {
            nav.style.display = "none";
        } else {
            nav.style.display = "flex";
        }
    }

</script>